(window.webpackJsonp=window.webpackJsonp||[]).push([[0],{247:function(e,t,n){e.exports=n.p+"static/media/texture.9aecd722.png"},5512:function(e,t,n){e.exports=n(5720)},5720:function(e,t,n){"use strict";n.r(t);var r,a=n(0),o=n.n(a),c=n(31),i=n.n(c),l=n(7),s=n.n(l),u=n(3),d=n(247),m=n.n(d),p=n(12),h=n(13),g={main:{colors:{background:"#EEE2DC",text:"#333333",main:"#123C69",dark:"#EDC7B7",light:"#BAB2B5",contrastText:"#AC3B61",notification:{success:"#83F570",error:"#F21600",warning:"#FAE639",info:"#A9D9E4"}},opacity:{disabled:.7},margin:{small:"5px",medium:"10px",large:"15px"},padding:{small:"5px",medium:"10px",large:"15px"},borderWidth:{base:"1px"},borderStyle:{base:"solid"},borderRadius:{small:"5px",medium:"10px",large:"15px"},zIndex:{notification:1e3},timeout:{notification:300},transition:".3s"}},f=Object(h.createMuiTheme)(Object(p.a)({palette:{background:{paper:g.main.colors.background},primary:{light:g.main.colors.light,main:g.main.colors.main,dark:g.main.colors.dark,contrastText:g.main.colors.contrastText},secondary:{light:g.main.colors.light,main:g.main.colors.main,dark:g.main.colors.dark,contrastText:g.main.colors.contrastText},text:{primary:g.main.colors.text}},typography:{useNextVariants:!0,fontFamily:["-apple-system","BlinkMacSystemFont",'"Segoe UI"',"Roboto",'"Helvetica Neue"',"Arial","sans-serif",'"Apple Color Emoji"','"Segoe UI Emoji"','"Segoe UI Symbol"'].join(",")},overrides:{MuiButton:{root:{textTransform:"none",transition:g.main.transition,"&:hover":{background:g.main.colors.main,opacity:g.main.opacity.disabled},"&$disabled":{opacity:g.main.opacity.disabled,background:g.main.colors.light,color:"".concat(g.main.colors.background," !important")}}},MuiChip:{root:{fontSize:".9em",background:"transparent",border:"".concat(g.main.borderWidth.base," ").concat(g.main.borderStyle.base," ").concat(g.main.colors.text),color:g.main.colors.text,opacity:g.main.opacity.disabled}},MuiFormControl:{root:{width:"100%"}},MuiLinearProgress:{root:{background:g.main.colors.background}},MuiMenuItem:{root:{width:"100%","&:hover":{background:"".concat(g.main.colors.main," !important"),color:"".concat(g.main.colors.background," !important")},"&$selected":{background:"".concat(g.main.colors.main," !important"),color:"".concat(g.main.colors.background," !important")}}},MuiSelect:{root:{width:"100%"},select:{background:"transparent !important"}},MuiTextField:{root:{width:"100%"},label:{color:"".concat(g.main.colors.text," !important"),opacity:.7},underline:{"&:after":{borderBottomColor:"".concat(g.main.colors.text," !important")}}},MuiSnackbar:{anchorOriginTopRight:{opacity:.9}}}},g)),b={"@global body":{overflowX:"hidden",background:"".concat(f.main.colors.background," url(").concat(m.a,") center repeat"),color:f.main.colors.text,fontSize:"1em",margin:0},"@global *":{boxSizing:"border-box"}},v=n(5723),w=n(5725),E=n(5722),k=n(38),y=n(5),O=n(249),j=n(27),C=n(34),P=n(2),S=(r=n.n(P).a,{blocksWrapper:{width:"300px",margin:"0 auto","@media (min-width: 480px)":{width:"470px"},"@media (min-width: 768px)":{width:"750px"}}}),I=function(e){var t=e.children,n=e.classes;return o.a.createElement("div",{className:n.blocksWrapper},t)};I.defaultProps={classes:{}};var T=I,L=Object(u.a)(s()(S))(T),W=n(32),x=function(e){return{button:{opacity:function(t){return t.isActive?e.main.opacity.disabled:1},color:e.palette.background.paper}}},A=function(e){var t=e.classes,n=(e.isActive,Object(W.a)(e,["classes","isActive"]));return o.a.createElement(y.d,Object.assign({classes:{root:t.button}},n))};A.defaultProps={isActive:!1,classes:{}};var N=A,_=Object(u.a)(s()(x))(N),R=function(e){return o.a.createElement(y.h,Object.assign({size:"small"},e))},F=n(5724),U=n(5721),D=(n(40),function(e){var t=e.location,n=e.to,r=(e.staticContext,Object(W.a)(e,["location","to","staticContext"]));return o.a.createElement(y.h,Object.assign({size:"small",to:n,color:"primary",component:U.a,disabled:t.pathname===n},r))});D.defaultProps={staticContext:void 0};var H=D,G=Object(u.a)(F.a)(H),B=n(99),q=n.n(B),Y=function(e){return{chipSet:{display:"flex",flexFlow:"row wrap",transition:e.main.transition},chip:{marginBottom:e.main.margin.small,marginRight:e.main.margin.small}}},M=function(e){var t=e.items,n=e.onRemoveItem,r=e.disabled,a=e.classes;return o.a.createElement("div",{className:a.chipSet},t.map(function(e){var t=e.id,c=e.value;return o.a.createElement(y.f,{classes:{root:a.chip},key:t,label:c,icon:o.a.createElement(q.a,null),onDelete:function(){return n(t)},disabled:r})}))};M.defaultProps={classes:{},items:[],disabled:!1};var V=M,K=Object(u.a)(s()(Y))(V),z=n(8),J=n.n(z),Q=function(e){return{alignControls:{display:"grid",alignContent:"center",gridAutoFlow:"column",padding:"".concat(e.main.padding.medium," 0"),justifyContent:function(e){return e.align},columnGap:".5rem",rowGap:".5rem"}}},X=function(e){var t=e.children,n=e.classes,r=e.align;return o.a.createElement("div",{className:J()(n.alignControls,r)},t)};X.defaultProps={classes:{},align:"left"};var $=X,Z=Object(u.a)(s()(Q))($),ee=function(e){return{footer:{padding:"".concat(e.main.padding.large," 0")}}},te=function(e){var t=e.classes;return o.a.createElement("div",{className:t.footer},o.a.createElement(bt,null))};te.defaultProps={classes:{}};var ne=te,re=Object(u.a)(s()(ee))(ne),ae=n(101),oe=n.n(ae),ce=n(100),ie=n.n(ce),le=n(102),se=n.n(le),ue=n(104),de=n.n(ue),me=n(103),pe=n.n(me),he=n(106),ge=n.n(he),fe=n(105),be=n.n(fe),ve={root:"/",login:"/login",logout:"/logout",words:{add:"/add-word",learn:"/learn-words",list:{root:"/words-list",all:"/words-list/all",preview:"/words-list/:id",edit:"/words-list/:id/edit"},search:"/search-words"}},we={bottomNavigation:{width:"100%"}},Ee=function(e){var t=e.isUserLoggedIn,n=e.classes,r=e.history,a=e.location;return o.a.createElement(y.b,{classes:{root:n.bottomNavigation},value:a.pathname,onChange:function(e,t){return r.push(t)},className:n.root},function(e){return[{path:ve.root,icon:o.a.createElement(ie.a,null),placeholder:"Home"},{path:ve.words.list.all,icon:o.a.createElement(oe.a,null),placeholder:"My words"},{path:ve.words.add,icon:o.a.createElement(se.a,null),placeholder:"Add a word"},{path:ve.words.search,icon:o.a.createElement(pe.a,null),placeholder:"Search a word"},{path:ve.words.learn,icon:o.a.createElement(de.a,null),placeholder:"Learn words"},e?{path:ve.logout,icon:o.a.createElement(be.a,null),placeholder:"Logout"}:{path:ve.login,icon:o.a.createElement(ge.a,null),placeholder:"Login"}]}(t).map(function(e){var t=e.icon,n=e.path,r=e.placeholder;return o.a.createElement(y.c,{key:n,value:n,icon:t,label:r,showLabel:!0})}))};Ee.defaultProps={isUserLoggedIn:!1,classes:{}};var ke=Ee,ye=n(20),Oe=n(21),je=n(23),Ce=n(22),Pe=n(24),Se=n(14),Ie={get:function(e,t){return Object(p.a)({endpoint:e,method:"GET"},t)},post:function(e,t){return Object(p.a)({endpoint:e,method:"POST"},t)},put:function(e,t){return Object(p.a)({endpoint:e,method:"PUT"},t)},patch:function(e,t){return Object(p.a)({endpoint:e,method:"PATCH"},t)},delete:function(e,t){return Object(p.a)({endpoint:e,method:"DELETE"},t)}},Te=function(e){if(e.status>=200&&e.status<300)return e;var t=new Error(e.statusText);throw t.response=e,t},Le=function(e){return e.json()},We=function(e){return function(t){var n=t.endpoint,r=t.body,a=t.headers,o=Object(W.a)(t,["endpoint","body","headers"]),c=new Request(n,Object(p.a)({body:JSON.stringify(r),headers:new Headers(Object(p.a)({Accept:"application/json","Content-Type":"application/json"},a))},o));return e(c).then(Te).then(Le)}},xe=n(170),Ae=n.n(xe),Ne=Ae.a.mark(_e);function _e(e){var t,n,r,a,o;return Ae.a.wrap(function(c){for(;;)switch(c.prev=c.next){case 0:t=200*e.length,n=e.map(function(e){return{key:e,lastUsed:null}}),r=0;case 3:if(!(r<n.length)){c.next=15;break}if(a=n[r],!((o=Date.now())-a.lastUsed<t)){c.next=8;break}throw new Error("No free api keys");case 8:return a.lastUsed=o,c.next=11,a.key;case 11:n.length-1===r&&(r=-1);case 12:r+=1,c.next=3;break;case 15:case"end":return c.stop()}},Ne,this)}var Re,Fe,Ue,De,He=_e,Ge=n(251),Be={success:"success",warning:"warning",info:"info",error:{clientError:"clientError",default:"error",disconnect:"disconnect",redirect:"redirect",serverError:"serverError",unknown:"unknown",forbidden:"forbidden",notFound:"notFound"}},qe=(Re=Be,function(e){if(console.error(e),!e)return Re.error.unknown;if(["Failed to fetch","Network request failed"].includes(e.message)&&!navigator.onLine)return Re.error.disconnect;if(!e.response||!e.response.status)return Re.error.unknown;var t=e.response.status;return t>=300&&t<400?Re.error.redirect:403===t?Re.error.forbidden:404===t?Re.error.notFound:t>=400&&t<500?Re.error.clientError:t>=500?Re.error.serverError:Re.error.unknown}),Ye=(Fe=Be,function(e){var t;return(t={},Object(j.a)(t,Fe.error.clientError,"Client error"),Object(j.a)(t,Fe.error.default,"Something went wrong"),Object(j.a)(t,Fe.error.disconnect,"You are disconnected!"),Object(j.a)(t,Fe.error.forbidden,"You are not authorized! Please, use your google account"),Object(j.a)(t,Fe.error.redirect,"You will be redirected"),Object(j.a)(t,Fe.error.serverError,"Server error"),Object(j.a)(t,Fe.error.notFound,"Not found"),Object(j.a)(t,Fe.error.unknown,"Unknown error"),t)[e.message]}),Me=function(e,t){return Object(p.a)({},e,{endpoint:Object(Se.joinUrl)({url:e.endpoint,searchParams:t})})},Ve=function(e){return function(t){return Object.entries(t).filter(function(t){return Object(Ge.a)(t,1)[0].startsWith(e)}).map(function(e){return e[1]})}}("REACT_APP_GIPHY_API_KEYS")(Object({NODE_ENV:"production",PUBLIC_URL:"/dictionary",REACT_APP_ENDPOINT_WORDS:"https://api-words.herokuapp.com/words",REACT_APP_ENDPOINT_USERS:"https://api-words.herokuapp.com/users",REACT_APP_ENDPOINT_GIPHY:"https://api.giphy.com/v1/gifs/search",REACT_APP_GIPHY_API_KEYS_00:"F7lCwfyiJppP5ViNTnkzRizkJFgQJuQA",REACT_APP_GIPHY_API_KEYS_01:"nclJA79aJaOaWoPUoov8ZRHjS3Gw2RHn",REACT_APP_GIPHY_API_KEYS_02:"MIRCxze00Q0YVg5RC6L0XQSy24E9ZePX",REACT_APP_GIPHY_API_KEYS_03:"PHiBwKRSsjh66ts7EiMGPoNVkFW7QfQj",REACT_APP_GIPHY_API_KEYS_04:"in3KS84Cy80rCLh2ttLKnafaPdqCAx0w",REACT_APP_GIPHY_API_KEYS_05:"sSGTxshtKDF54vRGjVbfLTXVgN1opMWb",REACT_APP_GIPHY_API_KEYS_06:"tPunv2XzP447DG47OiQPUcOfGTPmcZBR",REACT_APP_GIPHY_API_KEYS_07:"S40H9FKMU4DY2yAkX6FqRdzoTct0nK4d",REACT_APP_GIPHY_API_KEYS_08:"bXxbgmfe080CmrDfRAG00cjvRaSVLRX2",REACT_APP_GIPHY_API_KEYS_09:"wJq5uknv4FPhaX89JrgnHhWFHHuK29Nv",REACT_APP_GOOGLE_CLIENT_ID:"847116184178-vh1f39jbk7qce3nr8tesgo44vpit8qu0.apps.googleusercontent.com",REACT_APP_GOOGLE_CLIENT_SECRET:"H3i4EIdFb1AA-qKmnrC5_m2x",REACT_APP_GOOGLE_API_KEY:"AIzaSyCnRWpObaGd4vj4k1Ittb0icibmV02xXAo",REACT_APP_GOOGLE_CSE_ID:"004258986493041875794:bffbknevvwc"})),Ke=(Ue=He(Ve),function(e){return function(t){return e(Me(t,{api_key:Ue.next().value})).catch(function(n){if("Failed to fetch"===n.message)return e(Me(t,{api_key:Ue.next().value}));throw n})}})(We(window.fetch)),ze=function(e){return function(t,n){return e(Object(p.a)({},t,{headers:Object(p.a)({},t.headers,{authorization:n&&"Bearer ".concat(n.accessToken)})})).catch(function(e){throw new Error(qe(e))})}},Je=(De="https://api-words.herokuapp.com/words",function(e){return{create:function(t,n){return e(Ie.post(De,{body:t}),n)},get:function(t,n){return e(Ie.get(Object(Se.joinUrl)({url:De,paths:[t]})),n)},getList:function(t,n){return e(Ie.post(Object(Se.joinUrl)({url:De,paths:["list"]}),{body:t}),n)},getListToLearn:function(t,n){var r=Object(Se.joinUrl)({url:De,paths:["list"]}),a=new Date;return a.setDate(a.getDate()-1),e(Ie.post(r,{body:Object(p.a)({timesLearnt:{$gte:0,$lte:5},dateLastLearnt:{$gte:new Date(0),$lte:a}},t)}),n)},update:function(t,n){return e(Ie.put(Object(Se.joinUrl)({url:De,paths:[t._id]}),{body:t}),n)},delete:function(t,n){return e(Ie.delete(Object(Se.joinUrl)({url:De,paths:[t]})),n)},learn:function(t,n){return e(Ie.put(Object(Se.joinUrl)({url:De,paths:[t]}),{body:{dateLastLearnt:new Date(Date.now()).toISOString(),$inc:{timesLearnt:1}}}),n)},search:function(t,n){return e(Ie.post(Object(Se.joinUrl)({url:De,paths:["search-new"]}),{body:t}),n)}}})(ze(We(window.fetch))),Qe=function(e){return function(t){return{create:function(n,r){return t(Ie.post(Object(Se.joinUrl)({url:e,paths:["new"]}),{body:n}),r)},get:function(n,r){return t(Ie.get(Object(Se.joinUrl)({url:e,paths:[n]})),r)},update:function(n,r){return t(Ie.put(Object(Se.joinUrl)({url:e,paths:[n._id]}),{body:n}),r)},delete:function(n,r){return t(Ie.delete(Object(Se.joinUrl)({url:e,paths:[n]})),r)}}}}("https://api-words.herokuapp.com/users")(ze(We(window.fetch))),Xe=function(e){return function(t){return{get:function(n){return t(Ie.get(Object(Se.joinUrl)({url:e,searchParams:Object(p.a)({limit:100},n)})))}}}}("https://api.giphy.com/v1/gifs/search")(Ke),$e="LOADING",Ze="".concat($e,"/WORDS"),et="".concat($e,"/USER"),tt="".concat($e,"/GIF"),nt={words:{list:"".concat(Ze,"/list"),save:"".concat(Ze,"/save"),fetch:"".concat(Ze,"/fetch"),learn:"".concat(Ze,"/learn"),search:"".concat(Ze,"/search"),delete:"".concat(Ze,"/delete")},user:{fetch:"".concat(et,"/fetch")},gif:{fetch:"".concat(tt,"/fetch")}},rt=Object(a.createContext)({}),at={currentLoadingNames:{}},ot=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state=at,n.handleStartLoading=function(e){return n.setState(function(t){return{currentLoadingNames:Object(p.a)({},t.currentLoadingNames,Object(j.a)({},e,(t.currentLoadingNames[e]||0)+1))}})},n.handleStopLoading=function(e){return n.setState(function(t){return{currentLoadingNames:Object(p.a)({},t.currentLoadingNames,Object(j.a)({},e,(t.currentLoadingNames[e]||1)-1))}})},n.checkIsLoading=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return function(){for(var t=arguments.length,n=new Array(t),r=0;r<t;r++)n[r]=arguments[r];return Object.entries(e).some(function(e){return n.includes(e[0])&&e[1]>0})}},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this.state.currentLoadingNames,t=this.props.children,n=this.checkIsLoading(e);return o.a.createElement(rt.Provider,{value:{checkIsLoading:n,startLoading:this.handleStartLoading,stopLoading:this.handleStopLoading}},t)}}]),t}(a.Component),ct=function(e){return function(t){return o.a.createElement(rt.Consumer,null,function(n){return o.a.createElement(e,Object.assign({},n,t))})}},it=function(e){var t=e.startLoading,n=e.stopLoading,r=e.errorHandler;return function(e){var a=e.loadingName,o=e.requestHandler,c=e.responseHandler,i=e.googleToken;return Promise.resolve(t(a)).then(function(){return o(i)||function(e){return e}}).then(c||function(e){return e}).catch(r).finally(function(){return n(a)})}},lt=Object(a.createContext)({}),st=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).handleError=function(e){var t=n.props,r=t.history,a=t.enqueueSnackbar;e.message===Be.error.forbidden&&r.push(ve.login),a(Ye(e),{variant:Be.info})},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentDidCatch",value:function(e,t){console.log(e,t)}},{key:"render",value:function(){var e=this.props.children;return o.a.createElement(lt.Provider,{value:{handleError:this.handleError}},e)}}]),t}(a.Component),ut=Object(u.a)(k.withSnackbar,F.a)(st),dt=function(e){return function(t){return o.a.createElement(lt.Consumer,null,function(n){return o.a.createElement(e,Object.assign({},n,t))})}},mt=Object(a.createContext)({}),pt={googleToken:JSON.parse(window.localStorage.getItem("google")),user:{}},ht=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state=pt,n.handleFetch=it({startLoading:n.props.startLoading,stopLoading:n.props.stopLoading,errorHandler:n.props.handleError}),n.handleFetchUser=function(){var e=n.state.googleToken;return n.fetchUser(e&&e.googleId||"",e).then(function(t){return t||n.createUser(e&&e.profileObj,e)}).then(n.setUserToState)},n.cleanUser=function(){return n.setState({user:pt.user})},n.cleanGoogleToken=function(e){n.setState({googleToken:null},function(){window.localStorage.clear("google"),e()})},n.setGoogleToken=function(e,t){return n.fetchUser(e.googleId,e).then(function(r){return n.setState({user:r,googleToken:e},function(){t(),window.localStorage.setItem("google",JSON.stringify(e))})})},n.setUserToState=function(e){return n.setState({user:e})},n.fetchUser=function(e,t){return n.handleFetch({googleToken:n.state.googleToken,loadingName:nt.user.fetch,requestHandler:function(){return Qe.get(e,t)}})},n.createUser=function(e,t){return n.handleFetch({googleToken:n.state.googleToken,loadingName:nt.user.fetch,requestHandler:function(){return Qe.create(Object(p.a)({},e),t)},responseHandler:function(){return n.props.enqueueSnackbar("The user has been saved successfully",{variant:Be.success})}})},n.editUser=function(e,t){return n.handleFetch({googleToken:n.state.googleToken,loadingName:nt.user.fetch,requestHandler:function(){return Qe.update(e,t)},responseHandler:function(){return n.props.enqueueSnackbar("The user has been updated successfully",{variant:Be.success})}})},n.deleteUser=function(e,t){return n.handleFetch({googleToken:n.state.googleToken,loadingName:nt.user.fetch,requestHandler:function(){return Qe.delete(e,t)},responseHandler:function(){return n.fetchWordsList()}}).then(function(){return n.props.enqueueSnackbar("The user has been deleted successfully",{variant:Be.success})})},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.handleFetchUser()}},{key:"render",value:function(){var e=this.state,t=e.user,n=e.googleToken,r=this.props.children,a=n&&n.tokenObj.expires_at>Date.now();return o.a.createElement(mt.Provider,{value:{user:t,googleToken:n,isUserLoggedIn:a,setGoogleToken:this.setGoogleToken,cleanGoogleToken:this.cleanGoogleToken,setUserToState:this.setUserToState,cleanUser:this.cleanUser,fetchUser:this.fetchUser,createUser:this.createUser,editUser:this.editUser,deleteUser:this.deleteUser}},r)}}]),t}(a.Component),gt=Object(u.a)(ct,k.withSnackbar,dt)(ht),ft=function(e){return function(t){return o.a.createElement(mt.Consumer,null,function(n){return o.a.createElement(e,Object.assign({},n,t))})}},bt=Object(u.a)(s()(we),F.a,ft)(ke),vt=function(e){return{header:{padding:"".concat(e.main.padding.large," 0"),display:"flex",justifyContent:"space-between",alignItems:"center"},headerLinkWrapper:{margin:0},headerLink:{color:e.palette.text.primary,textDecoration:"none",fontSize:"1.6rem"}}},wt=function(e){var t=e.classes,n=e.isUserLoggedIn,r=(0,e.checkIsLoading)(nt.user.fetch);return o.a.createElement("div",{className:t.header},o.a.createElement("h1",{className:t.headerLinkWrapper},o.a.createElement(U.a,{to:ve.root,className:t.headerLink},"The dictionary")),n&&o.a.createElement(Bn,{isLoading:r}))};wt.defaultProps={classes:{},isUserLoggedIn:!1};var Et=wt,kt=Object(u.a)(s()(vt),ct,ft)(Et),yt=function(e){return{imageBlock:{padding:"".concat(e.main.padding.medium," 0"),width:function(e){return"".concat(e.width,"px")},height:function(e){return"".concat(e.height,"px")},background:function(e){return"url(".concat(e.src,") 50% 50% / cover no-repeat")},borderRadius:e.main.borderRadius.small}}},Ot=function(e){var t=e.src,n=e.width,r=e.height,a=e.classes;return o.a.createElement("div",{className:"".concat(a.imageBlock," ").concat(t).concat(n).concat(r)})};Ot.defaultProps={src:"",width:300,height:200,classes:{}};var jt=Ot,Ct=Object(u.a)(s()(yt))(jt),Pt=n(107),St=n.n(Pt),It=function(e){return{inputsBlock:{display:"grid",rowGap:"1em",marginBottom:"10px",padding:"10px",border:"1px solid ".concat(e.palette.primary.light),borderRadius:e.main.borderRadius.small,background:e.palette.background.paper},topLine:{display:"grid",padding:"5px 0",gridTemplateColumns:"repeat(2, 1fr)",justifyContent:"space-between",alignItems:"center"},blockTitle:{margin:0},blockItems:{minHeight:"2em"}}},Tt=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state={input:""},n.handleOnChange=function(e){return n.setState({input:e.target.value})},n.handleOnAddItem=function(){n.props.onAddItem(n.state.input),n.setState({input:""})},n.handleEnterPress=function(e){13===e.which&&n.handleOnAddItem()},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this,t=this.state.input,n=this.props,r=n.children,a=n.title,c=n.control,i=n.classes;return o.a.createElement("div",{className:i.inputsBlock},o.a.createElement("div",{className:i.topLine},o.a.createElement("h3",{className:i.blockTitle},a),o.a.createElement("div",null,c&&!0===c?o.a.createElement(In,{placeholder:"Add new option",value:t,onChange:function(t){return e.handleOnChange(t)},onKeyPress:this.handleEnterPress,control:o.a.createElement(_,{onClick:this.handleOnAddItem,title:"Add new option",disabled:!t,mini:!0},o.a.createElement(St.a,null))}):c)),o.a.createElement("div",{className:i.blockItems},r))}}]),t}(a.Component);Tt.defaultProps={classes:{},title:null,onAddItem:function(){},control:!1};var Lt=Tt,Wt=Object(u.a)(s()(It))(Lt),xt=n(108),At=n.n(xt),Nt=n(110),_t=n.n(Nt),Rt=n(111),Ft=n.n(Rt),Ut=n(109),Dt=n.n(Ut),Ht=function(e){var t=e.loading,n=e.onOptionChange,r=e.inputValue,a=e.word,c=e.timesLearnt,i=e.onCheckAnswer,l=e.onGiveAHint,s=e.onKnownWord,u=e.onForgottenWord,d="Learnt ".concat(c," time").concat(c>1?"s":""," before");return o.a.createElement("div",null,o.a.createElement(Ln,{loading:t,onChange:n,label:"Your option",value:r,disabled:t}),o.a.createElement("h3",null,a),o.a.createElement("h5",null,null!=c&&d),o.a.createElement(Z,{align:"center"},o.a.createElement(R,{onClick:i,disabled:t,title:"Submit my answer"},o.a.createElement(At.a,null)),o.a.createElement(R,{onClick:l,disabled:t,title:"Give me a hint"},o.a.createElement(Dt.a,null)),o.a.createElement(R,{onClick:s,disabled:t,title:"I know this word"},o.a.createElement(_t.a,null)),o.a.createElement(R,{onClick:u,disabled:t,title:"I forgot this word, show me the translation"},o.a.createElement(Ft.a,null))))};Ht.defaultProps={loading:null,inputValue:null,word:null,timesLearnt:null};var Gt=Ht,Bt=function(e){return{lineExplanation:{display:"grid",gridTemplateColumns:function(e){return e.label?"1fr 2fr":"1fr"},background:e.palette.primary.light,padding:e.main.padding.medium,marginBottom:e.main.margin.medium,borderRadius:e.main.borderRadius.small}}},qt=function(e){var t=e.classes,n=e.label,r=e.children;return o.a.createElement("div",{className:t.lineExplanation},n&&o.a.createElement("div",null,"".concat(n,":")),o.a.createElement("div",null,r))};qt.defaultProps={label:null,children:null,classes:{}};var Yt=qt,Mt=Object(u.a)(s()(Bt))(Yt),Vt=n(42),Kt=n.n(Vt),zt=function(e){var t=e.items;return t&&t.map(function(e,n){return o.a.createElement(vn,{key:Kt()(),word:e,delimiter:n<t.length-1&&", "})})};zt.defaultProps={items:[]};var Jt=zt,Qt=n(65),Xt=n.n(Qt),$t={multipleInputs:{display:"grid",rowGap:"1em"}},Zt=function(e){var t=e.classes,n=e.items,r=e.placeholder,a=e.onRemoveItem,c=e.onChange,i=e.disabled;return o.a.createElement("div",{className:t.multipleInputs},n.map(function(e){var t=e.id,n=e.value;return o.a.createElement(In,{onChange:function(e){return c(t,e.target.value)},key:t,placeholder:r,value:n,disabled:i,control:o.a.createElement(R,{color:"primary",onClick:function(){return a(t)},title:"Remove example",disabled:i},o.a.createElement(Xt.a,null))})}))};Zt.defaultProps={items:[],placeholder:null,disabled:!1,classes:{}};var en=Zt,tn=Object(u.a)(s()($t))(en),nn=n(112),rn=n.n(nn),an=n(113),on=n.n(an),cn={page:{display:"grid",gridTemplateColumns:"repeat(3, auto)",gap:"1rem",justifyContent:"center",alignItems:"center"},paginationInput:{width:"100px"}},ln=function(e){var t=e.classes,n=e.pageNumber,r=e.maxPageCount,a=e.onChangePage,c=Number(n)>1?Number(n)-1:1,i=Number(n)<r?Number(n)+1:r;return o.a.createElement("div",{className:t.page},o.a.createElement(R,{onClick:function(){return a(c)},disabled:1===n,color:"primary",title:"Previous page"},o.a.createElement(rn.a,null)),o.a.createElement("div",{className:t.paginationInput},o.a.createElement(In,{label:r?"Page ".concat(n," of ").concat(r):"Page number",onChange:function(e){var t=e.target.value,n=parseInt(t,10);return t>r&&(n=r),t<1&&(n=1),a(n)},value:n})),o.a.createElement(R,{onClick:function(){return a(i)},disabled:r===n,title:"Next page",color:"primary"},o.a.createElement(on.a,null)))};ln.defaultProps={classes:{},pageNumber:1,maxPageCount:0};var sn=ln,un=Object(u.a)(s()(cn))(sn),dn=function(e){return{paginationPanel:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(0, auto))",justifyContent:"end",gap:"1rem",background:e.palette.background.paper,padding:"10px 10px",width:"100%"}}},mn=function(e){var t=e.countPerPage,n=e.page,r=e.maxPageCount,a=e.onChangePage,c=e.onChangeCount,i=e.classes;return o.a.createElement(y.n,null,o.a.createElement(y.o,null,o.a.createElement("div",{className:i.paginationPanel},o.a.createElement(jn,{onChange:c,value:t,label:"Words per page",options:[{key:1,title:1},{key:5,title:5},{key:10,title:10},{key:25,title:25},{key:50,title:50},{key:100,title:100}]}),o.a.createElement(un,{pageNumber:n,maxPageCount:r,onChangePage:a}))))};mn.defaultProps={countPerPage:5,page:1,maxPageCount:0,classes:{}};var pn=mn,hn=Object(u.a)(s()(dn))(pn),gn=function(e){return{clickableWord:{display:"inline-block",color:e.palette.text.primary,fontWeight:"bolder"}}},fn=function(e){var t=e.word,n=e.classes,r=e.delimiter;return o.a.createElement(o.a.Fragment,null,o.a.createElement(U.a,{className:n.clickableWord,to:Object(Se.joinRoute)({pathname:ve.words.search,searchParams:{query:t}})},t),r)};fn.defaultProps={delimiter:null,classes:{}};var bn=fn,vn=Object(u.a)(s()(gn))(bn),wn=function(e){var t=e.label,n=Object(W.a)(e,["label"]);return o.a.createElement(y.j,{color:"primary"},t&&o.a.createElement(y.l,{htmlFor:t},t),o.a.createElement(y.r,n))};wn.defaultProps={label:null};var En=wn,kn={selectWithOptions:{minWidth:"130px",width:"100%"}},yn=function(e){var t=e.classes,n=e.label,r=e.value,a=e.onChange,c=e.options;return o.a.createElement(En,{label:n,value:r,onChange:a,className:t.selectWithOptions},0===c.length?o.a.createElement(y.q,{value:"",disabled:!0},"There are no appropriate options"):c.map(function(e){var t=e.key,n=e.title;return o.a.createElement(y.q,{value:t,key:t},n)}))};yn.defaultProps={options:[],value:"",label:null,classes:{}};var On=yn,jn=Object(u.a)(s()(kn))(On),Cn=function(e){return{textFieldControl:{display:function(e){return e.control?"grid":"initial"},rowGap:function(e){return e.control?".5rem":"initial"},columnGap:function(e){return e.control?"1rem":"initial"},justifyContent:function(e){return e.control?"space-between":"initial"},alignItems:function(e){return e.control?"center":"initial"},gridTemplateColumns:function(e){return e.control?"100fr 1fr":"initial"},marginBottom:function(t){return t.control?"initial":e.main.margin.medium}},textField:{marginBottom:e.main.margin.medium},root:{width:"100%"},label:{color:"".concat(e.main.colors.text," !important"),opacity:.7},underline:{"&:after":{borderBottom:"".concat(e.main.colors.text," !important")}}}},Pn=function(e){var t=e.classes,n=e.control,r=Object(W.a)(e,["classes","control"]);return o.a.createElement("div",{className:t.textFieldControl},o.a.createElement(y.s,Object.assign({},r,{classes:{root:t.root},InputProps:{classes:{underline:t.underline}},InputLabelProps:{className:t.label}})),n)};Pn.defaultProps={control:null,classes:{}};var Sn=Pn,In=Object(u.a)(s()(Cn))(Sn),Tn=function(e){var t=e.loading,n=Object(W.a)(e,["loading"]);return o.a.createElement("div",null,o.a.createElement(In,n),o.a.createElement(y.i,{in:t},o.a.createElement(y.m,{color:"secondary"})))};Tn.defaultProps={loading:!1};var Ln=Tn,Wn=n(114),xn=n.n(Wn),An=n(115),Nn=n.n(An),_n={toolbarWrapper:{display:"grid",gridTemplateColumns:"repeat(auto-fit, minmax(0, auto))",gap:"1rem",justifyContent:"center",alignItems:"center",width:"100%"}},Rn=function(e){var t=e.checkAllControl,n=e.sortBy,r=e.sortDirection,c=e.onChangeSortDirection,i=e.onChangeSortBy,l=e.isAnyChecked,s=e.children,u=e.classes;return o.a.createElement(y.n,null,o.a.createElement(y.o,{divider:!0},o.a.createElement("div",null,t),o.a.createElement("div",{className:u.toolbarWrapper},l?o.a.createElement(y.u,{in:l},s):o.a.createElement(a.Fragment,null,o.a.createElement(_,{onClick:c,title:"Sort direction",color:"primary",variant:"contained",mini:!0},"descend"===r?o.a.createElement(xn.a,null):o.a.createElement(Nn.a,null)),o.a.createElement("div",null,o.a.createElement(jn,{value:n,label:"Sort by",onChange:i,options:[{key:"word",title:"Word"},{key:"dateCreated",title:"Was added"},{key:"timesLearnt",title:"Was learnt times"},{key:"dateLastLearnt",title:"Was learnt last time"}]}))))))};Rn.defaultProps={checkAllControl:null,sortBy:"dateCreated",sortDirection:"ascend",isAnyChecked:!1,classes:{}};var Fn=Rn,Un=Object(u.a)(s()(_n))(Fn),Dn=function(e){return{header:{padding:"".concat(e.main.padding.large," 0")},headerLinkWrapper:{margin:0},headerLink:{color:e.palette.text.primary,textDecoration:"none",fontSize:"1.6rem"}}},Hn=function(e){var t=e.user;return e.isLoading||0===Object.keys(t).length?o.a.createElement(y.g,null):o.a.createElement(y.t,{title:t.name},o.a.createElement(y.a,{alt:t.name,src:t.imageUrl}))};Hn.defaultProps={user:{},googleToken:null,isLoading:!1};var Gn=Hn,Bn=Object(u.a)(s()(Dn),ft)(Gn),qn={word:"",transcription:"",partOfSpeech:[],examples:[],synonyms:[]},Yn=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state={wordItem:qn},n.handleFieldChange=function(e,t){return n.setState(function(n){return{wordItem:Object(p.a)({},n.wordItem,Object(j.a)({},e,t))}})},n.handleRemoveItemFromArray=function(e,t){return n.setState(function(n){return{word:Object(p.a)({},n.word,Object(j.a)({},e,n.word[e].filter(function(e){return e.id!==t})))}})},n.handleAddItemToArray=function(e,t){return n.setState(function(n){return{wordItem:Object(p.a)({},n.wordItem,Object(j.a)({},e,[{id:Kt()(),value:t}].concat(Object(C.a)(n.wordItem[e]))))}})},n.handleOnChangeMultipleInputs=function(e,t,r){return n.setState(function(n){return{wordItem:Object(p.a)({},n.wordItem,Object(j.a)({},e,n.wordItem[e].map(function(e){return e.id===t?Object(p.a)({},e,{value:r}):e})))}})},n.onResetForm=function(){return n.setState({wordItem:n.props.wordItem})},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this,t=this.props,n=t.onSubmit,r=t.checkIsLoading,a=this.state.wordItem,c=a.word,i=a.transcription,l=a.examples,s=a.partOfSpeech,u=a.synonyms,d=r(nt.words.fetch,nt.words.save),m=[{key:"noun",title:"Noun"},{key:"pronoun",title:"Pronoun"},{key:"verb",title:"Verb"},{key:"adjective",title:"Adjective"},{key:"adverb",title:"Adverb"},{key:"preposition",title:"Preposition"},{key:"conjunction",title:"Conjunction"},{key:"interjection",title:"Interjection"},{key:"article",title:"Article"},{key:"determiner",title:"Determiner"}].filter(function(e){return!(s&&s.map(function(e){return e.value}).includes(e.key))});return o.a.createElement("form",{onSubmit:n},o.a.createElement(y.i,{in:d},o.a.createElement(y.m,{color:"secondary"})),o.a.createElement(Wt,{title:"Main information"},o.a.createElement(y.s,{label:"Word",value:c,onChange:function(t){return e.handleFieldChange("word",t.target.value)},disabled:d}),o.a.createElement(y.s,{label:"Transcription",value:i,onChange:function(t){return e.handleFieldChange("transcription",t.target.value)},disabled:d})),o.a.createElement(Wt,{title:"Parts of speech",control:o.a.createElement(jn,{value:m[0]?m[0].key:"",label:"Parts of speech",onChange:function(t){return e.handleAddItemToArray("partOfSpeech",t.target.value)},options:m,disabled:d})},o.a.createElement(K,{items:s,onRemoveItem:function(t){return e.handleRemoveItemFromArray("partOfSpeech",t)},disabled:d})),o.a.createElement(Wt,{onAddItem:function(t){return e.handleAddItemToArray("synonyms",t)},title:"Synonyms",control:!0},o.a.createElement(K,{items:u,onRemoveItem:function(t){return e.handleRemoveItemFromArray("synonyms",t)},disabled:d})),o.a.createElement(Wt,{onAddItem:function(t){return e.handleAddItemToArray("examples",t)},title:"Examples",control:!0},o.a.createElement(tn,{items:l,placeholder:"Example",onChange:function(t,n){return e.handleOnChangeMultipleInputs("examples",t,n)},onRemoveItem:function(t){return e.handleRemoveItemFromArray("examples",t)},disabled:d})),o.a.createElement(Z,{align:"right"},o.a.createElement(_,{onClick:this.onResetForm,disabled:d,variant:"contained",color:"primary",title:"Reset"},"Reset changes"),o.a.createElement(_,{onClick:function(){return n(a)},disabled:d,variant:"contained",color:"primary",title:"Save"},"Save")))}}]),t}(a.Component);Yn.defaultProps={wordItem:null},Yn.getDerivedStateFromProps=function(e,t){return(e.wordItem&&e.wordItem._id)!==(t.wordItem&&t.wordItem._id)?{wordItem:e.wordItem}:t};var Mn=Yn,Vn=n(171),Kn=n.n(Vn),zn=n(116),Jn=n.n(zn),Qn=function(e){return{wordItemWrapper:{opacity:function(t){return t.isLoading||t.isChecked?e.main.opacity.disabled:1}},description:{padding:"".concat(e.main.padding.small," 0")},wordLink:{color:e.palette.primary.main},wordTime:{display:"flex",alignItems:"center",justifyContent:"flex-end",fontSize:"0.9em"}}},Xn=function(e){var t=e.isChecked,n=e.onWordCheck,r=e.wordItem,c=e.linkToWord,i=e.loading,l=e.classes,s=r._id,u=r.word,d=r.transcription,m=r.dateCreated,p=r.dateLastLearnt,h=r.timesLearnt,g=p&&p===new Date(0).toISOString()?"Never":Kn()(p).fromNow();return o.a.createElement(y.k,{container:!0,spacing:16,alignItems:"center",className:l.wordItemWrapper},o.a.createElement(y.k,{item:!0,xs:1},o.a.createElement(y.e,{onChange:function(){return n(s)},checked:t,disabled:i})),o.a.createElement(y.k,{item:!0,xs:7,className:l.description},o.a.createElement(y.p,{primary:i?o.a.createElement(y.i,{in:i},o.a.createElement(y.g,{color:"secondary",size:20})):o.a.createElement(a.Fragment,null,u&&o.a.createElement(U.a,{className:l.wordLink,to:c},u),[u&&" ",d&&"[".concat(d,"]")].filter(Boolean).join(" - ")),secondary:[null!=h&&"Times learnt: ".concat(h),g&&"Last learnt: ".concat(g)].filter(Boolean).join(" \xb7 ")})),o.a.createElement(y.k,{item:!0,xs:3},o.a.createElement("div",{className:l.wordTime},m&&Kn()(m).fromNow()||"-")),o.a.createElement(y.k,{item:!0,xs:1},o.a.createElement(G,{to:Object(Se.joinRoute)({pathname:ve.words.list.root,paths:[s,"edit"]}),disabled:i,title:"Edit"},o.a.createElement(Jn.a,null))))};Xn.defaultProps={wordItem:{_id:"",word:"",transcription:"",dateCreated:""},onWordCheck:function(){},linkToWord:"",isChecked:!1,loading:!1,classes:{}};var $n=Xn,Zn=Object(u.a)(s()(Qn))($n),er=function(e){return e.map(function(e){return e.value}).filter(Boolean)},tr=function(e){var t=e.wordItem,n=e.loading,r=t.word,a=t.transcription,c=t.partOfSpeech,i=t.synonyms,l=t.antonyms,s=t.similarTo,u=t.examples,d=t.gif;return o.a.createElement("div",null,o.a.createElement(y.i,{in:n},o.a.createElement(y.m,{color:"secondary"})),o.a.createElement(Wt,{title:"Main information"},o.a.createElement(Ct,{src:d,alt:r}),o.a.createElement(Mt,{label:"Word"},r),o.a.createElement(Mt,{label:"Transcription"},a&&"[".concat(a,"]")),o.a.createElement(Mt,{label:"Part of speech"},o.a.createElement(Jt,{items:c&&er(c)})),o.a.createElement(Mt,{label:"Synonyms"},o.a.createElement(Jt,{items:i&&er(i)})),o.a.createElement(Mt,{label:"Antonyms"},o.a.createElement(Jt,{items:l&&er(l)})),o.a.createElement(Mt,{label:"Similar to"},o.a.createElement(Jt,{items:s&&er(s)}))),o.a.createElement(Wt,{title:"Examples"},u?u.map(function(e){return o.a.createElement(Mt,{key:e.id},e.value)}):""))};tr.defaultProps={wordItem:null,loading:!1};var nr=tr,rr=function(e){return{wordsList:{background:e.palette.background.paper}}},ar=function(e){var t=e.wordsList,n=e.loading,r=e.countPerPage,a=e.checked,c=e.onWordCheck,i=e.classes;return o.a.createElement(y.n,{className:i.wordsList,classes:{root:i.wordsList}},n?Array(r).fill(null).map(function(){return o.a.createElement(y.o,{key:Kt()(),divider:!0},o.a.createElement(Zn,{loading:n}))}):t.map(function(e){var t=e._id,r=Object(Se.joinRoute)({pathname:ve.words.list.root,paths:[t]}),i=a.includes(t);return o.a.createElement(y.o,{key:t,divider:!0},o.a.createElement(Zn,{wordItem:e,linkToWord:r,onWordCheck:c,isChecked:i,loading:n}))}))};ar.defaultProps={wordsList:null,loading:null,countPerPage:null,checked:null,classes:{}};var or=ar,cr=Object(u.a)(s()(rr))(or),ir=function(e,t){return Array.from(new Set(e.reduce(function(e,n){return n[t]?[].concat(Object(C.a)(e),Object(C.a)(n[t])):Object(C.a)(e)},[])))},lr=function(e){return e.map(function(e){return{value:e,id:Kt()()}})},sr=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.results,n=void 0===t?[]:t,r=Object(W.a)(e,["results"]);return Object(p.a)({examples:lr(ir(n,"examples")),definitions:lr(n.map(function(e){return e.definition})),similarTo:lr(ir(n,"similarTo")),synonyms:lr(ir(n,"synonyms")),antonyms:lr(ir(n,"antonyms")),partOfSpeech:lr(Array.from(new Set(n.map(function(e){return e.partOfSpeech}))))},r)},ur=Object(a.createContext)({}),dr={sortBy:"dateCreated",sortDirection:"descend",page:1,countPerPage:5},mr={wordsList:[],wordItem:{},count:0,gif:""},pr=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state=mr,n.handleFetch=it({startLoading:n.props.startLoading,stopLoading:n.props.stopLoading,errorHandler:n.props.handleError}),n.getSearchParams=function(){var e=n.props.location,t=dr.sortBy,r=dr.sortDirection,a=dr.page,o=dr.countPerPage,c=Object(Se.parseSearchParams)(e.search);return{sortBy:c.sortBy||t,sortDirection:c.sortDirection||r,page:Number(c.page)||a,countPerPage:Number(c.countPerPage)||o}},n.cleanWordsList=function(){return n.setState({wordsList:mr.wordsList})},n.cleanWord=function(){return n.setState({wordItem:mr.wordItem})},n.setWordToState=function(e){return n.setState({wordItem:e})},n.fetchWord=function(e){return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.fetch,requestHandler:function(t){return Je.get(e,t)},responseHandler:function(e){return n.setState({wordItem:e})}})},n.fetchWordsList=function(){var e=n.props.location,t=n.getSearchParams(e.search),r=t.sortBy,a=t.sortDirection,o=t.page,c=t.countPerPage,i={skip:(o-1)*c,limit:Number(c),sortDirection:"descend"===a?-1:1,sortBy:r};return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.list,requestHandler:function(e){return Je.getList({query:i,googleId:e&&e.googleId},e)},responseHandler:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{},t=e.items,r=void 0===t?[]:t,a=e.count,o=void 0===a?0:a;return n.setState({wordsList:r,count:o})}})},n.createWord=function(e,t){return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.save,requestHandler:function(n){return Je.create(Object(p.a)({},e,{googleId:n&&n.googleId,ownerId:t}),n)},responseHandler:function(){return n.props.enqueueSnackbar("The word has been saved successfully",{variant:Be.success})}})},n.editWord=function(e){return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.fetch,requestHandler:function(t){return Je.update(e,t)},responseHandler:function(){return n.props.enqueueSnackbar("The word has been updated successfully",{variant:Be.success})}})},n.deleteWord=function(e){return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.delete,requestHandler:function(t){return Je.delete(e,t)},responseHandler:function(){return n.fetchWordsList()}}).then(function(){return n.props.enqueueSnackbar("The word has been deleted successfully",{variant:Be.success})})},n.searchWord=function(e){return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.search,requestHandler:function(t){return Je.search(e,t)},responseHandler:function(e){return Xe.get({q:e.word}).then(function(t){var r=t&&t.data&&t.data.map(function(e){return e.images.downsized_large.url}),a=r&&r[Math.round(Math.random()*r.length)];n.setState({wordItem:Object(p.a)({},sr(e),{gif:a})})})}})},n.fetchWordsToLearn=function(){return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.learn,requestHandler:function(e){return Je.getListToLearn({googleId:e&&e.googleId},e)},responseHandler:function(e){var t=e.items,r=e.count;return n.setState({wordsList:t,count:r})}})},n.learnWord=function(e){return n.handleFetch({googleToken:n.props.googleToken,loadingName:nt.words.learn,requestHandler:function(t){return Je.learn(e,t)},responseHandler:function(){return n.setState(function(t){return{wordsList:Object(C.a)(t.wordsList.filter(function(t){return t._id!==e}))}})}})},n.relearnWord=function(e){n.setState(function(t){var n=t.wordsList.find(function(t){return t._id===e});return{wordsList:[].concat(Object(C.a)(t.wordsList.filter(function(e){return e._id!==n._id})),[n])}})},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this,t=this.state,n=t.wordsList,r=t.wordItem,a=t.count,c=t.gif,i=this.props,l=i.children,s=i.user;return o.a.createElement(ur.Provider,{value:{gif:c,wordItem:r,wordsList:n,wordsCount:a,getWordsSearchParams:this.getSearchParams,setWordToState:this.setWordToState,cleanWord:this.cleanWord,cleanWordsList:this.cleanWordsList,fetchWord:this.fetchWord,fetchWordsList:this.fetchWordsList,fetchWordsToLearn:this.fetchWordsToLearn,editWord:this.editWord,deleteWord:this.deleteWord,learnWord:this.learnWord,relearnWord:this.relearnWord,saveWord:function(t){return e.createWord(t,s._id)},searchWord:this.searchWord}},l)}}]),t}(a.Component);pr.defaultProps={googleToken:null,user:null};var hr=Object(u.a)(F.a,ft,ct,k.withSnackbar,dt)(pr),gr=function(e){return function(t){return o.a.createElement(ur.Consumer,null,function(n){return o.a.createElement(e,Object.assign({},n,t))})}},fr=function(e){return{wordsTableWrapper:{display:"grid",margin:0,padding:0,borderRadius:e.main.borderRadius.small,overflow:"hidden",rowGap:"1px",background:e.palette.background.paper}}},br=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state={checked:[]},n.handleOnCheck=function(e){return n.setState(function(t){return{checked:t.checked.find(function(t){return t===e})?t.checked.filter(function(t){return t!==e}):[].concat(Object(C.a)(t.checked),[e])}})},n.handleOnCheckAll=function(){return n.setState(function(e){return{checked:e.checked.length!==n.props.wordsList.length?Object(C.a)(n.props.wordsList.map(function(e){return e._id})):[]}})},n.handleDeleteWord=function(){return n.state.checked.length>0&&Promise.resolve(n.state.checked.map(function(e){return n.props.deleteWord(e)})).then(function(){return n.setState({checked:[]})})},n.generateUrl=function(e){var t=n.props.location;return Object(Se.joinRoute)({pathname:t.pathname,search:t.search,searchParams:e})},n.handleOnChangeSelect=function(e,t){return n.props.history.push(n.generateUrl(Object(j.a)({page:1},t,e.target.value)))},n.handleOnChangeDirection=function(){var e=n.props,t=e.location;return e.history.push(n.generateUrl({sortDirection:"descend"===Object(Se.parseSearchParams)(t.search).sortDirection?"ascend":"descend"}))},n.handleOnChangePage=function(e){return n.props.history.push(n.generateUrl({page:e}))},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this,t=this.state.checked,n=this.props,r=n.wordsList,a=n.wordsCount,c=n.checkIsLoading,i=n.getWordsSearchParams,l=n.location,s=n.classes,u=i(l),d=u.countPerPage,m=u.sortBy,p=u.sortDirection,h=u.page,g=c(nt.words.list),f=t.length===r.length&&t.length>0;return o.a.createElement("main",null,o.a.createElement("div",{className:s.wordsTableWrapper},o.a.createElement(Un,{checkAllControl:o.a.createElement(y.e,{onChange:this.handleOnCheckAll,checked:f}),isAnyChecked:t.length>0,sortBy:m,sortDirection:p,onChangeSortDirection:this.handleOnChangeDirection,onChangeSortBy:function(t){return e.handleOnChangeSelect(t,"sortBy")}},o.a.createElement(R,{disabled:0===t.length,onClick:this.handleDeleteWord,color:"primary",title:"Delete"},o.a.createElement(Xt.a,null))),o.a.createElement(cr,{wordsList:r,onWordCheck:this.handleOnCheck,loading:g,countPerPage:d,checked:t}),o.a.createElement(hn,{countPerPage:d,page:h,maxPageCount:Math.ceil(a/d),onChangeCount:function(t){return e.handleOnChangeSelect(t,"countPerPage")},onChangePage:this.handleOnChangePage})))}}]),t}(a.Component);br.defaultProps={wordsList:null,wordsCount:0,classes:{}};var vr=br,wr=Object(u.a)(s()(fr),F.a,ct,gr)(vr),Er=n(120),kr=n(51),yr=n.n(kr),Or=function(e){return{loginButton:{background:e.palette.primary.main,"&:hover":{cursor:"pointer"}}}},jr=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).onSuccess=function(e){return n.props.setGoogleToken(e,function(){return n.props.history.goBack()})},n.onFailure=function(e){return n.props.handleError(e)},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(Er.GoogleLogin,{className:e.loginButton,clientId:"847116184178-vh1f39jbk7qce3nr8tesgo44vpit8qu0.apps.googleusercontent.com",onSuccess:this.onSuccess,onFailure:this.onFailure,color:"primary",render:function(e){return o.a.createElement(_,{onClick:e.onClick,color:"secondary",variant:"contained",title:"Login with google account"},o.a.createElement(yr.a,null),"Login with google account")}})}}]),t}(a.Component);jr.defaultProps={classes:{}};var Cr=jr,Pr=Object(u.a)(s()(Or),F.a,ft,dt)(Cr),Sr=function(e){return{logoutButton:{background:e.palette.primary.main,"&:hover":{cursor:"pointer"}}}},Ir=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).onSuccess=function(){return n.props.cleanGoogleToken(function(){n.props.enqueueSnackbar("You were successfully logged out!",{variant:Be.success}),n.props.history.push(ve.login)})},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"render",value:function(){var e=this.props.classes;return o.a.createElement(Er.GoogleLogout,{className:e.logoutButton,onLogoutSuccess:this.onSuccess,render:function(e){return o.a.createElement(_,{onClick:e.onClick,color:"secondary",variant:"contained",title:"Logout"},o.a.createElement(yr.a,null)," Logout")}},o.a.createElement(yr.a,null))}}]),t}(a.Component);Ir.defaultProps={classes:{}};var Tr=Ir,Lr=Object(u.a)(s()(Sr),F.a,ft,k.withSnackbar)(Tr),Wr={mainPage:{display:"grid",gridTemplateColumns:"1fr",gap:"1rem"},quoteText:{fontSize:"1.3em",fontWeight:"bolder"},quoteAuthor:{textAlign:"right",fontSize:"1.2em",margin:"0.5em 0"}},xr=function(e){var t=e.classes;return o.a.createElement("div",{className:t.mainPage},o.a.createElement("h1",null,"This is the dictionary of definitions"))};xr.defaultProps={classes:{}};var Ar=xr,Nr=Object(u.a)(s()(Wr))(Ar),_r={notFoundWrapper:{display:"grid",justifyContent:"center",alignItems:"center",minHeight:"100%"}},Rr=function(e){var t=e.classes;return o.a.createElement("div",{className:t.notFoundWrapper},o.a.createElement("h1",null,"Page not found"),o.a.createElement(G,{to:ve.root},"Home"))};Rr.defaultProps={classes:{}};var Fr=Rr,Ur=Object(u.a)(s()(_r))(Fr),Dr=function(e){function t(){return Object(ye.a)(this,t),Object(je.a)(this,Object(Ce.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentWillUnmount",value:function(){this.props.cleanWord()}},{key:"render",value:function(){var e=this.props,t=e.saveWord,n=e.wordItem,r=e.checkIsLoading;return o.a.createElement(Mn,{wordItem:n,checkIsLoading:r,onSubmit:t})}}]),t}(a.Component);Dr.defaultProps={wordItem:null};var Hr=Dr,Gr=Object(u.a)(ct,gr)(Hr),Br=function(e){function t(){return Object(ye.a)(this,t),Object(je.a)(this,Object(Ce.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchWord(this.props.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.cleanWord()}},{key:"render",value:function(){var e=this.props,t=e.wordItem,n=e.editWord,r=e.checkIsLoading;return o.a.createElement(Mn,{wordItem:t,onSubmit:n,checkIsLoading:r})}}]),t}(a.Component);Br.defaultProps={wordItem:null};var qr=Br,Yr=Object(u.a)(F.a,gr,ct)(qr),Mr={learnWord:{width:"300px",margin:"0 auto"}},Vr=3,Kr=function(e){return function(t){return e.split("").findIndex(function(e,n){return e!==t[n]})}},zr=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state={countOfTry:0,guessed:!1,inputValue:"",currentWord:{}},n.onChangeInput=function(e){return n.setState({inputValue:e.target.value})},n.resetCountOfTry=function(){return n.setState({countOfTry:0})},n.onCheckAnswer=function(){var e=n.props,t=e.enqueueSnackbar,r=e.relearnWord,a=n.state,o=a.inputValue,c=a.currentWord;if(c&&Object.keys(c).length>0){var i=c.en,l=c._id;o.toLowerCase()===i.toLowerCase()&&(n.setState({guessed:!0,inputValue:"",countOfTry:0}),t("You are right!",{variant:Be.info})),n.setState(function(e){return{countOfTry:e.countOfTry+1}},function(){if(n.state.countOfTry<Vr){var e=Vr-n.state.countOfTry;t("You are wrong! ".concat(e," attempt").concat(e>1?"s":""," left"),{variant:Be.info})}else n.setState({countOfTry:0}),t("You don't remember this word. Keep learning it!",{variant:Be.warning}),r(l)})}},n.onGiveAHint=function(){var e=n.state,t=e.inputValue,r=e.currentWord;if(r&&Object.keys(r).length>0){var a=r.en,o=Kr(a)(t),c=o>=0?o:a.length-1;n.setState({inputValue:a.slice(0,c<a.length?c+1:c)})}},n.onKnownWord=function(){return n.props.learnWord(n.state.currentWord._id)},n.onForgottenWord=function(){return n.props.relearnWord(n.state.currentWord._id)},n.onLearnNextWord=function(){return n.props.learnWord(n.state.currentWord._id).then(function(){return n.setState({countOfTry:0,guessed:!1})})},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchWordsToLearn()}},{key:"componentWillUnmount",value:function(){this.props.cleanWordsList()}},{key:"render",value:function(){var e=this.props,t=e.checkIsLoading,n=e.classes,r=this.state,c=r.currentWord,i=r.inputValue,l=r.guessed,s=t(nt.words.learn);return l?o.a.createElement(a.Fragment,null,o.a.createElement(_,{onClick:this.onLearnNextWord,variant:"contained",color:"primary"},"Learn the next word"),o.a.createElement(nr,{wordItem:c})):o.a.createElement("div",{className:n.learnWord},o.a.createElement(Gt,{loading:s,onOptionChange:this.onChangeInput,inputValue:i,word:c&&c.word,timesLearnt:c&&c.timesLearnt,onCheckAnswer:this.onCheckAnswer,onGiveAHint:this.onGiveAHint,onKnownWord:this.onKnownWord,onForgottenWord:this.onForgottenWord}))}}]),t}(a.Component);zr.defaultProps={classes:{}},zr.getDerivedStateFromProps=function(e,t){return e.wordsList&&e.wordsList.length>0?Object(p.a)({},t,{currentWord:e.wordsList[0]}):t};var Jr=zr,Qr=Object(u.a)(s()(Mr),ct,k.withSnackbar,gr)(Jr),Xr=function(e){function t(){return Object(ye.a)(this,t),Object(je.a)(this,Object(Ce.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){this.props.fetchWordsList()}},{key:"componentDidUpdate",value:function(e){this.props.location.search!==e.location.search&&this.props.fetchWordsList()}},{key:"componentWillUnmount",value:function(){this.props.cleanWordsList()}},{key:"render",value:function(){return o.a.createElement(wr,null)}}]),t}(a.Component),$r=Object(u.a)(F.a,ct,gr)(Xr),Zr=function(e){function t(){return Object(ye.a)(this,t),Object(je.a)(this,Object(Ce.a)(t).apply(this,arguments))}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){var e=this.props;(0,e.fetchWord)(e.match.params.id)}},{key:"componentWillUnmount",value:function(){this.props.cleanWord()}},{key:"render",value:function(){var e=this.props,t=e.wordItem,n=(0,e.checkIsLoading)(nt.words.fetch);return o.a.createElement(nr,{loading:n,wordItem:t})}}]),t}(a.Component);Zr.defaultProps={wordItem:{}};var ea=Zr,ta=Object(u.a)(F.a,ct,gr)(ea),na={searchBlock:{display:"grid",gridTemplateColumns:"repeat(2, 1fr)",gap:"1em"}},ra=500,aa=function(e){function t(){var e,n;Object(ye.a)(this,t);for(var r=arguments.length,a=new Array(r),o=0;o<r;o++)a[o]=arguments[o];return(n=Object(je.a)(this,(e=Object(Ce.a)(t)).call.apply(e,[this].concat(a)))).state={searchValue:"",isToEditMode:!1},n.cleanSearchValue=function(){return n.setState({searchValue:""})},n.searchWord=function(e){clearTimeout(n.inputTimer),n.setState({searchValue:e}),n.inputTimer=setTimeout(function(){n.props.searchWord({word:e})},ra)},n.handleOnChangeSearchInput=function(e){clearTimeout(n.inputTimer);var t=e.target.value;n.setState({searchValue:t}),n.inputTimer=setTimeout(function(){n.props.history.push(Object(Se.joinRoute)({pathname:ve.words.search,searchParams:{query:t}}))},ra)},n.handleEditBeforeSaving=function(){var e=n.props,t=e.history,r=e.setWordToState,a=e.wordItem;n.setState({isToEditMode:!0,searchValue:""},function(){r(Object(p.a)({},a,{_id:Kt()()})),t.push(ve.words.add)})},n.handleSaveWord=function(){var e=n.props,t=e.saveWord,r=e.wordItem,a=e.cleanWord;return t(r).then(function(){return n.cleanSearchValue(),a()})},n}return Object(Pe.a)(t,e),Object(Oe.a)(t,[{key:"componentDidMount",value:function(){var e=this.props.location,t=Object(Se.parseSearchParams)(e.search);t.query&&this.searchWord(t.query)}},{key:"componentDidUpdate",value:function(e){var t=this.props.location,n=Object(Se.parseSearchParams)(t.search);this.props.location.search!==e.location.search&&n.query&&this.searchWord(n.query)}},{key:"componentWillUnmount",value:function(){this.state.isToEditMode||this.props.cleanWord()}},{key:"render",value:function(){var e=this.state.searchValue,t=this.props,n=t.wordItem,r=t.checkIsLoading,a=t.classes,c=!Object.keys(n).length,i=r(nt.words.search);return o.a.createElement("main",null,o.a.createElement("div",{className:a.searchBlock},o.a.createElement(Ln,{label:"Search a word",value:e,onChange:this.handleOnChangeSearchInput,loading:i}),o.a.createElement(Z,{align:"right"},o.a.createElement(_,{onClick:this.handleSaveWord,disabled:c,variant:"contained",color:"primary"},"Save to my words"),o.a.createElement(_,{onClick:this.handleEditBeforeSaving,disabled:c,variant:"contained",color:"primary"},"Edit before saving"))),o.a.createElement(nr,{wordItem:n}))}}]),t}(a.Component);aa.defaultProps={wordItem:null,classes:{}};var oa=aa,ca=Object(u.a)(s()(na),F.a,ct,gr)(oa),ia=function(e){var t=e.children;return o.a.createElement(ut,null,o.a.createElement(ot,null,o.a.createElement(gt,null,o.a.createElement(hr,null,t))))},la={TransitionComponent:y.u,maxSnack:5,anchorOrigin:{vertical:"top",horizontal:"right"},action:[o.a.createElement(O.a,{key:"close"})]},sa=function(){return o.a.createElement(l.ThemeProvider,{theme:f},o.a.createElement(h.MuiThemeProvider,{theme:f},o.a.createElement(v.a,{basename:"/dictionary"},o.a.createElement(k.SnackbarProvider,la,o.a.createElement(ia,null,o.a.createElement(L,null,o.a.createElement(kt,null),o.a.createElement(w.a,null,o.a.createElement(E.a,{exact:!0,path:ve.root,component:Nr}),o.a.createElement(E.a,{exact:!0,path:ve.login,component:Pr}),o.a.createElement(E.a,{exact:!0,path:ve.logout,component:Lr}),o.a.createElement(E.a,{exact:!0,path:ve.words.add,component:Gr}),o.a.createElement(E.a,{exact:!0,path:ve.words.learn,component:Qr}),o.a.createElement(E.a,{exact:!0,path:ve.words.list.all,component:$r}),o.a.createElement(E.a,{exact:!0,path:ve.words.list.preview,component:ta}),o.a.createElement(E.a,{exact:!0,path:ve.words.list.edit,component:Yr}),o.a.createElement(E.a,{exact:!0,path:ve.words.search,component:ca}),o.a.createElement(E.a,{component:Ur})),o.a.createElement(re,null)))))))},ua=Object(u.a)(s()(b))(sa),da=Boolean("localhost"===window.location.hostname||"[::1]"===window.location.hostname||window.location.hostname.match(/^127(?:\.(?:25[0-5]|2[0-4][0-9]|[01]?[0-9][0-9]?)){3}$/));function ma(e){navigator.serviceWorker.register(e).then(function(e){e.onupdatefound=function(){var t=e.installing;t.onstatechange=function(){"installed"===t.state&&(navigator.serviceWorker.controller?console.log("New content is available; please refresh."):console.log("Content is cached for offline use."))}}}).catch(function(e){console.error("Error during service worker registration:",e)})}i.a.render(o.a.createElement(ua,null),document.getElementById("root")),function(){if("serviceWorker"in navigator){if(new URL("/dictionary",window.location).origin!==window.location.origin)return;window.addEventListener("load",function(){var e="".concat("/dictionary","/service-worker.js");da?(function(e){fetch(e).then(function(t){404===t.status||-1===t.headers.get("content-type").indexOf("javascript")?navigator.serviceWorker.ready.then(function(e){e.unregister().then(function(){window.location.reload()})}):ma(e)}).catch(function(){console.log("No internet connection found. Index is running in offline mode.")})}(e),navigator.serviceWorker.ready.then(function(){console.log("This web app is being served cache-first by a service worker. To learn more, visit https://goo.gl/SC7cgQ")})):ma(e)})}}()}},[[5512,2,1]]]);
//# sourceMappingURL=main.896e38c6.chunk.js.map